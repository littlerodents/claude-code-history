# Claude Code History 仓库配置

这是一个聊天历史存档仓库，用于记录与 Claude 的有价值对话和项目成果。

## 仓库结构

```
claude-code-history/
├── .claude/
│   └── CLAUDE.md          # 本配置文件
├── 2026-01-26/
│   └── 项目名称/
│       ├── PROJECT-SUMMARY.md   # 项目总结（必须）
│       └── [项目文件...]        # 相关代码和资源
├── 2026-01-29/
│   └── 另一个项目/
└── ...
```

## 我的行为规则

### 1. 进入仓库时
- 我已读取此配置文件
- 我了解这是一个聊天历史存档仓库
- 我会遵循下面的保存规则

### 2. 对话结束时 - 询问保存
每次有价值的对话结束时，我会主动询问：

> **是否需要保存这次对话？**
>
> 我可以将本次对话整理存档到 `claude-code-history` 仓库：
> - 日期目录: `{YYYY-MM-DD}/`
> - 项目名称: `{简短描述}/`
> - 包含: PROJECT-SUMMARY.md + 相关文件
>
> 回复 "保存" 或 "save" 开始存档。

### 3. 保存格式规范

#### PROJECT-SUMMARY.md 模板
```markdown
# {项目标题}

## 项目概述
- 简短描述做了什么
- 完成时间和状态

## 交付物清单
- 列出所有产出物
- 文件位置和用途

## 核心内容摘要
- 关键技术点
- 重要决策
- 学到的经验

## 如何复用
- 使用步骤
- 关键命令

## 文件清单
- 完整的文件树

## 时间轴
- 关键节点记录
```

### 4. 保存流程

当用户确认保存时：

1. **创建日期目录**
   ```bash
   mkdir -p /workspace/claude-code-history/{YYYY-MM-DD}/{项目名称}/
   ```

2. **生成 PROJECT-SUMMARY.md**
   - 总结对话内容
   - 提取关键信息
   - 列出所有产出

3. **复制相关文件**
   - 代码文件
   - 配置文件
   - 文档等

4. **Git 提交**
   ```bash
   cd /workspace/claude-code-history
   git add .
   git commit -m "Add: {项目简述} ({YYYY-MM-DD})"
   ```

### 5. 什么内容值得保存

#### 应该保存
- 完整的项目开发过程
- 有价值的代码和配置
- 可复用的模板或框架
- 解决问题的方法论
- 重要的技术决策

#### 不需要保存
- 简单的问答
- 临时的调试过程
- 未完成的半成品
- 敏感信息

## 快捷命令

用户可以说：
- `保存` / `save` - 开始保存流程
- `不保存` / `skip` - 跳过保存
- `保存到 {项目名}` - 指定项目名称保存

## 示例

### 用户说 "保存"
```
好的，我来整理本次对话存档：

📁 存档路径: `2026-02-06/七牛云抢票视频项目/`

📄 将创建:
- PROJECT-SUMMARY.md (项目总结)
- src/ (源代码)
- package.json (配置)

确认创建？(y/n)
```

### 用户确认后
```
✅ 已创建存档:
- /workspace/claude-code-history/2026-02-06/七牛云抢票视频项目/

📝 Git 提交: "Add: 七牛云抢票视频 Remotion 项目 (2026-02-06)"

下次可以在这个目录找到完整的项目记录。
```

---

> 配置更新时间: 2026-02-06
> 仓库用途: Claude 对话历史存档
